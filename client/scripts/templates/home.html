<template name="home">
  {{> homeView}}
</template>

<template name="homeView">
  <div id="homeContainer">
    <div id="homeFilter">
      {{> homeBrand}}
      {{> homeDistanceFilter}}
    </div>
    <div class="" id="productList">
      {{> homeProducts}}
      {{> homeModal}}
    </div>    
  </div>    
</template>

<template name="homeBrand">
  <p>
    <span>Brands : </span>
    <ul>
      {{#isolate}}
      {{#each Brand}}
      <li style="list-style:none"><input type="checkbox" value="{{this}}">  {{this}}</li>
      {{/each}}
      {{/isolate}}
    </ul>
  </p>
</template>

<template name='homeDistanceFilter'>
  <div>
    <h5>Distance within:</h5>
    <input type='input' id='distanceCenter'/>
    <ul style='list-style-type:none;'>
      <li><input type='radio' name='distanceFilter' value='5' />5 km</li>
      <li><input type='radio' name='distanceFilter' value='10' />10 km</li>
      <li><input type='radio' name='distanceFilter' value='15' />15 km</li>
    </ul>
  </div>
</template>

<template name="homeProducts">
  <div class="products-list">
  {{#isolate}}
   {{#each ProductArr}}
     <div class="show-product" id="product_{{_id}}" style="cursor:pointer">
      <img class="item-image" src="image/482.GIF" data-original="{{this.Image.[0]}}"/>
      <h4>{{this.Brand}}</h4>
      <p class="lead">{{this.ProductName}} </p>
      <p>starts at Rs.{{this.leastPrice}}</p>
      <p>{{this.ModelID}}</p>
     </div>
   {{/each}}
  {{/isolate}}
   
  </div>
</template>

<template name='homeModal'>
<div id="homeModal" class="hide">
    <a id="closeModal" href="#">X</a>
    {{#isolate}}
    {{#each product}}
      <div class="column" style="width:30%">
        <h2>{{Brand}}</h3>
        <h4>{{ProductName}}</h5>
        <h5>{{ModelID}}</h6>
        <img class="item-image" src="{{Image.[0]}}" />
      </div>
    {{/each}}
    {{/isolate}}
    <div class="column" style="width:70%">
      <ul class="nav nav-tabs" id="myTab">
        <li class="active"><a href="#overview" data-toggle="tab">Overview</a></li>
        <li><a href="#techSpec" data-toggle="tab">Technical Specification</a></li>
        <li><a href="#availableShop" data-toggle="tab">Available At</a></li>
      </ul>
      <div class="tab-content">
      {{#isolate}}
        {{> homeModalOverview}}
      {{/isolate}}
      {{#isolate}}
        {{> homeModalSpec}}
      {{/isolate}}
      {{#isolate}}
        {{> homeModalAvailble}}
      {{/isolate}}
      </div>
    </div>
</div>
</template>
<template name="homeModalOverview">
  <div class="tab-pane active" id="overview">
  {{#each productOverview}} 
    <p class="lead">{{overviewPara}}</p>
    <ul>
      {{#each overViewList}}
      <li>{{this}}</li>
      {{/each}}
    </ul>
    {{#each feature}}
      <h4>{{name}}</h4>
      <p>{{value}}</p>
    {{/each}}
  {{/each}}
  </div>
</template>
<template name="homeModalSpec">
  <div class="tab-pane" id="techSpec">
    <table class="table">
    {{#each productSpec}}
    {{#each spec}}
      {{#labelCheck name}}
      <th>
        <u><strong>{{value}}</strong></u>
      </th>
      {{else}}  
      <tr>
        <td><strong>{{name}}:</strong></td>
        <td>{{value}}</td>
      </tr> 
      {{/labelCheck}}
    {{/each}}
    {{/each}}
    </table>
  </div>
</template>
<template name="homeModalAvailble">
  <div class="tab-pane" id="availableShop">
    <table class="table">
      <tr>
        <th>Shop Name</th>
        <th>Price</th>
        <th>Distance</th>
      </tr>
    {{#each shopList}}
      <tr>
        <td><a class="shopNav" href="{{link}}">{{shopname}}<a/></td>
        <td>{{#if price}}Rs. {{price}} {{else}} NA {{/if}}</td>
        <td>{{distance}}Km</td>
      </tr>
    {{/each}}
    </table>
  </div>
</template>